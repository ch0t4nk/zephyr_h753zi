CONFIG_DEBUG_THREAD_INFO=y
CONFIG_THREAD_NAME=y
CONFIG_DEBUG_OPTIMIZATIONS=y
CONFIG_USE_SEGGER_RTT=y
CONFIG_LOG_BACKEND_RTT=y
CONFIG_LOG_BACKEND_UART=y
CONFIG_LOG=y
CONFIG_LOG_MODE_DEFERRED=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_ASSERT=y
CONFIG_DEBUG=y
CONFIG_SERIAL=y
CONFIG_UART_CONSOLE=y
CONFIG_CONSOLE=y
CONFIG_UART_INTERRUPT_DRIVEN=y
CONFIG_PRINTK=y
CONFIG_STDOUT_CONSOLE=y
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_SHELL=y
CONFIG_SHELL_BACKEND_SERIAL=y
# Net shell & stats for runtime inspection
CONFIG_NET_SHELL=y
CONFIG_NET_STATISTICS=y
# Networking core
CONFIG_NETWORKING=y
CONFIG_NET_IPV4=y
CONFIG_NET_IPV6=n
CONFIG_NET_UDP=y
CONFIG_NET_TCP=y
CONFIG_NET_DHCPV4=y

# Ethernet driver for STM32
CONFIG_NET_L2_ETHERNET=y
CONFIG_ETH_STM32_HAL=y

# Extra DHCP/NET debug (optional, harmless if optimized out by level)
# CONFIG_NET_DHCPV4_LOG_LEVEL_DBG=y
# CONFIG_NET_LOG_LEVEL_DBG=y

# Memory management
CONFIG_NET_BUF=y
CONFIG_HEAP_MEM_POOL_SIZE=16384

# Logging for debugging
CONFIG_NET_LOG=y
CONFIG_ETHERNET_LOG_LEVEL_DBG=y

# POSIX socket API support
CONFIG_NET_SOCKETS=y

# GPIO support for LED
CONFIG_GPIO=y

# SPI bus for IHM02A1 (SPI1 on Arduino header)
CONFIG_SPI=y

# Settings and NVS for on-target persistence of selected model
CONFIG_SETTINGS=y
CONFIG_SETTINGS_FILE=n
CONFIG_SETTINGS_NVS=y
CONFIG_NVS=y
CONFIG_FLASH=y
CONFIG_FLASH_PAGE_LAYOUT=y
CONFIG_FLASH_MAP=y
CONFIG_FLASH_MAP_LABELS=y

# LittleFS persistence (use FMP backend on fixed partition 'storage')
CONFIG_FILE_SYSTEM=y
CONFIG_FILE_SYSTEM_LITTLEFS=y
CONFIG_FS_LITTLEFS_FMP_DEV=y
# Enable mkfs syscall in the app link
CONFIG_APP_LINK_WITH_FS=y
CONFIG_FILE_SYSTEM_MKFS=y
CONFIG_FS_LITTLEFS_READ_SIZE=32
CONFIG_FS_LITTLEFS_PROG_SIZE=32
CONFIG_FS_LITTLEFS_CACHE_SIZE=32
CONFIG_FS_LITTLEFS_LOOKAHEAD_SIZE=8

# Allow software reset from application (B1 mapping)
CONFIG_REBOOT=y


# Network management for DHCP events
CONFIG_NET_MGMT=y
CONFIG_NET_MGMT_EVENT=y

# Example: enable the shield Kconfig option (optional helper).
# CONFIG_SHIELD_X_NUCLEO_IHM02A1=y