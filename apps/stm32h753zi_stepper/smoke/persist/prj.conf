CONFIG_PRINTK=y
CONFIG_LOG=y
# Enable settings and NVS for on-target validation of persistence. The board
# defconfig provides FLASH support for nucleo_h753zi so NVS can be used here.
CONFIG_SETTINGS=y
CONFIG_SETTINGS_NVS=y
CONFIG_NVS=y
CONFIG_FLASH=y
CONFIG_FLASH_PAGE_LAYOUT=y
CONFIG_MAIN_STACK_SIZE=4096

# LittleFS filesystem fallback (for devices with large flash erase pages)
CONFIG_FILE_SYSTEM=y
CONFIG_FILE_SYSTEM_LITTLEFS=y
CONFIG_FS_LITTLEFS_BLOCK_CYCLES=16
CONFIG_FS_LITTLEFS_FMP_DEV=y

# Tune LittleFS to the target flash geometry (STM32H7 write-block-size = 32)
# Use program/read/cache sizes aligned to 32 bytes and a minimal lookahead
# because the storage partition is a single 128KB block on this board.
CONFIG_FS_LITTLEFS_READ_SIZE=32
CONFIG_FS_LITTLEFS_PROG_SIZE=32
CONFIG_FS_LITTLEFS_CACHE_SIZE=32
CONFIG_FS_LITTLEFS_LOOKAHEAD_SIZE=8

# Flash map is required by the LittleFS flash-map backend (FMP)
# Enables runtime access to partition/area descriptors used by the
# filesystem when mounting a partition by label/offset.
CONFIG_FLASH_MAP=y
CONFIG_FLASH_MAP_LABELS=y

# Enable sys_reboot() API for software-initiated resets from the USER button
CONFIG_REBOOT=y
